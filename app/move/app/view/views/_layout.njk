{% extends "layouts/base.njk" %}

{% block customGtagConfig %}
  gtag('set', {'page_title': 'Move details'});
{% endblock %}

{% block pageTitle %}
  {{ getPageTitle() | join(' â€“ ') if getPageTitle }}
{% endblock %}

{% macro _sidebarSection(params) %}
  {% set borderClasses = "app-border-top-2 app-border--blue" if params.first else "app-border-top-1" %}

  <section class="{{ borderClasses }} govuk-!-padding-top-3 govuk-!-margin-bottom-7">
    {{ caller() if caller }}
  </section>
{% endmacro %}

{% block content %}
  {% block contentHeader %}
    {{ appIdentityBar(identityBar) }}
  {% endblock %}

  {% block contentContainer %}
  <div class="govuk-grid-row">

    <div class="govuk-grid-column-two-thirds govuk-!-margin-bottom-6">

      {% block contentMain %}

        {% block tabsList %}
          {% if tabs %}
            <div class="govuk-tabs">
              <ul class="govuk-tabs__list">
                {% for item in tabs %}
                  <li class="govuk-tabs__list-item {{- ' govuk-tabs__list-item--selected' if item.isActive }}">
                    <a class="govuk-tabs__tab" href="{{ item.url }}">
                      {{ t(item.text) }}
                    </a>
                  </li>
                {% endfor %}
              </ul>
            </div>
          {% endif %}
        {% endblock %}

        {% block tabContent %}
        {% endblock %}

      {% endblock %}

    </div>

    <aside class="govuk-grid-column-one-third app-!-tabs-offset">

      {% block contentSidebar %}

        {% call _sidebarSection({ first: true }) %}
          {% include "includes/person-summary.njk" %}
        {% endcall %}

        {% call _sidebarSection() %}
          <h3 class="govuk-heading-s govuk-!-margin-bottom-2">
            {{ t("moves::move_details") }}
          </h3>

          {{ appMetaList(moveDetails) }}
        {% endcall %}

        {% if actions | length %}
          {% call _sidebarSection() %}
            <ul class="govuk-list govuk-!-margin-0 govuk-!-font-size-16">
              {% for action in actions %}
                <li>
                  <a href="{{ action.url }}" class="{{ action.classes }}">
                    {{ t(action.text) }}
                  </a>
                </li>
              {% endfor %}
            </ul>
          {% endcall %}
        {% endif %}

      {% endblock %}

    </aside>

  </div>
  {% endblock %}
{% endblock %}
