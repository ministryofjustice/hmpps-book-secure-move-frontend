{% extends "layouts/base.njk" %}

{% block pageTitle %}
  {{ t("search::results.page_title") }}
  â€”
  {{ super() }}
{% endblock %}

{% block content %}
  <header class="govuk-!-margin-bottom-8">
    <h1 class="govuk-heading-xl govuk-!-margin-bottom-1">
      {{ t("search::results.heading", {
        count: results.length,
        term: searchTerm
      }) }}
    </h1>
  </header>

  <div class="govuk-!-margin-bottom-6">
    {% include "includes/search-form.njk" %}
  </div>

  {# {{results|dump(1)}} #}
  {# {{resultsAsTable|dump(1)}} #}
  {# {{requestFilters|dump(1)}} #}

  {% if resultsAsTable.rows.length %}
    {{ govukTable(resultsAsTable) }}
  {% else %}
    {{ appMessage({
      classes: "app-message--muted govuk-!-margin-top-7",
      allowDismiss: false,
      content: {
        html: t("collections::no_results", {
          context: context + ("_" + activeStatus if activeStatus)
        })
      }
    }) }}
  {% endif %}

  {# <a href="{{ requestFilters.links.editFilters }}">Search again</a> #}

{% endblock %}
